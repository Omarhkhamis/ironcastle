generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Admin {
  id           Int      @id @default(autoincrement())
  email        String   @unique
  passwordHash String
  name         String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Project {
  id            Int       @id @default(autoincrement())
  slug          String    @unique
  title         String
  categoryLabel String
  description   String?
  overview      String?
  location      String?
  mainImage     String
  gallery       String[]  @default([])
  categories    String[]  @default([])
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model Service {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  icon        String?
  order       Int      @default(1)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Partner {
  id        Int      @id @default(autoincrement())
  name      String
  logoUrl   String
  url       String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Setting {
  id           Int          @id @default(1)
  siteName     String?      @default("Iron Castle")
  faviconUrl   String?
  logoUrl      String?
  heroImageUrl String?
  adminEmail   String?
  contactEmail String?
  phone        String?
  address      String?
  businessHours String?
  mapEmbed      String?
  seoTitle      String?
  seoDescription String?
  seoKeywords   String?
  seoImageUrl   String?
  seoJsonLd     String?
  socials      SocialLink[]
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
}

model SocialLink {
  id        Int      @id @default(autoincrement())
  platform  String
  url       String
  setting   Setting  @relation(fields: [settingId], references: [id], onDelete: Cascade)
  settingId Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
